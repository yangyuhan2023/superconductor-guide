<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- SEO Meta Tags (新增部分：为了让搜索引擎更容易搜索到) -->
    <title>超导材料性质模拟与分析指南 | DFT计算与EXAFS拟合实战</title>
    <meta name="description" content="基于Nature Nanotechnology文献的超导材料研究SOP。包含从EXAFS结构拟合验证到Eliashberg理论计算、McMillan公式预测Tc的完整工作流与交互式计算器。">
    <meta name="keywords" content="超导材料, DFT计算, EXAFS拟合, McMillan公式, Eliashberg谱函数, VASP, Quantum ESPRESSO, 材料模拟, 结构验证, Tc预测">
    <meta name="author" content="超导研究助手">
    <meta name="robots" content="index, follow">

    <!-- Open Graph Tags (用于微信/Twitter/Facebook分享时显示预览卡片) -->
    <meta property="og:title" content="超导材料性质模拟与分析实战指南">
    <meta property="og:description" content="交互式SOP：从EXAFS结构验证到Tc预测的完整工作流。包含模拟图表与在线计算器。">
    <meta property="og:type" content="article">

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- Chosen Palette: Warm Neutral (BG: amber-50, Cards: white, Accent: teal-700) -->
    <!-- Application Structure Plan: Designed a task-oriented SPA using a stepper/workflow structure. This guides the user through the 5 parts of the SOP (Logic, EXAFS, Theory, Checklist, FAQ) interactively. Mock charts provide visual context for EXAFS and Eliashberg, and a $T_c$ calculator makes the McMillan formula tangible. This structure is chosen for usability, transforming a static guide into an active learning tool. -->
    <!-- Visualization & Content Choices:
        - Report Info (Part 1, Logic): Goal: Inform. Method: HTML/Tailwind diagram. Justification: Visual anchor for the workflow.
        - Report Info (Part 2, EXAFS): Goal: Organize/Inform. Method: Stepper cards + Chart.js Line Chart (Canvas). Interaction: Click (stepper), Hover (chart). Justification: Breaks down complex params. Mock chart (mimicking user's Fig 2c) provides crucial visual context.
        - Report Info (Part 3, Theory): Goal: Inform/Interact. Method: Cards + Chart.js Bar Chart (Canvas) + HTML/JS Calculator. Interaction: Hover (chart), Input/Click (calc). Justification: Explains theory with visuals and makes the final $T_c$ formula (Eq 2) interactive.
        - Report Info (Part 4, Checklist): Goal: Organize. Method: HTML List. Justification: Direct, usable checklist.
        - Report Info (Part 5, FAQ): Goal: Inform. Method: HTML <details> accordion. Interaction: Click to expand. Justification: Standard, clean way to present Q&A.
        -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .step-active {
            border-color: #0d9488; /* teal-600 */
            color: #0d9488;
            font-weight: 600;
        }
        .step-default {
            border-color: #cbd5e1; /* slate-300 */
            color: #64748b; /* slate-500 */
        }
    </style>
</head>
<body class="bg-amber-50 text-slate-800">

    <!-- Header -->
    <header class="bg-white shadow-md">
        <div class="container mx-auto px-4 py-6">
            <h1 class="text-3xl font-bold text-teal-700">超导材料性质模拟与分析指南</h1>
            <p class="mt-1 text-lg text-slate-600">基于Nature Nanotechnology文献的交互式复现SOP</p>
        </div>
    </header>

    <main class="container mx-auto p-4 md:p-8">

        <!-- Section 1: Core Logic -->
        <section id="logic" class="mb-12">
            <h2 class="text-2xl font-semibold text-teal-700 mb-4">1. 核心逻辑</h2>
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <p class="text-lg text-slate-700 mb-6 text-center">整个模拟流程遵循一个严谨的逻辑链条，确保最终预测的可靠性。</p>
                <div class="flex flex-col md:flex-row justify-center items-center space-y-4 md:space-y-0 md:space-x-4">
                    <div class="p-4 bg-teal-50 border-l-4 border-teal-500 rounded-r-lg text-center shadow">
                        <span class="text-sm font-semibold text-teal-800">阶段一</span>
                        <p class="text-lg font-medium text-teal-900">结构验证 (EXAFS)</p>
                    </div>
                    <svg class="w-8 h-8 text-teal-500 hidden md:block" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
                    <svg class="w-8 h-8 text-teal-500 md:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>
                    
                    <div class="p-4 bg-blue-50 border-l-4 border-blue-500 rounded-r-lg text-center shadow">
                        <span class="text-sm font-semibold text-blue-800">阶段二</span>
                        <p class="text-lg font-medium text-blue-900">微观计算 (Eliashberg)</p>
                    </div>
                    <svg class="w-8 h-8 text-blue-500 hidden md:block" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"></path></svg>
                    <svg class="w-8 h-8 text-blue-500 md:hidden" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path></svg>

                    <div class="p-4 bg-purple-50 border-l-4 border-purple-500 rounded-r-lg text-center shadow">
                        <span class="text-sm font-semibold text-purple-800">阶段三</span>
                        <p class="text-lg font-medium text-purple-900">宏观预测 ($T_c$)</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 2: Simulation Workflow (Stepper) -->
        <section id="workflow" class="mb-12">
            <h2 class="text-2xl font-semibold text-teal-700 mb-6">2. 模拟工作流</h2>
            <div class="flex flex-col md:flex-row">
                <!-- Stepper Navigation -->
                <nav class="flex md:flex-col md:w-1/4 mb-6 md:mb-0 md:pr-8 space-x-2 md:space-x-0 md:space-y-2 overflow-x-auto">
                    <button class="step-nav flex-shrink-0 text-left p-4 border-l-4 rounded-r-lg step-active" data-step="1">
                        阶段一: EXAFS建模
                    </button>
                    <button class="step-nav flex-shrink-0 text-left p-4 border-l-4 rounded-r-lg step-default" data-step="2">
                        阶段二: 理论计算
                    </button>
                    <button class="step-nav flex-shrink-0 text-left p-4 border-l-4 rounded-r-lg step-default" data-step="3">
                        阶段三: 结果预测
                    </button>
                </nav>

                <!-- Stepper Content -->
                <div class="md:w-3/4">
                    <!-- Step 1: EXAFS -->
                    <div id="step-1" class="step-content bg-white p-6 rounded-lg shadow-lg">
                        <h3 class="text-xl font-semibold text-teal-800 mb-4">阶段一：结构确立与EXAFS建模</h3>
                        <p class="text-slate-600 mb-6">目标：证明DFT优化的原子模型与实验样品一致，确保后续计算基于真实结构。</p>
                        
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Left Column: Params & Steps -->
                            <div>
                                <h4 class="font-semibold text-lg text-slate-700 mb-3">关键参数 (源自文献)</h4>
                                <ul class="list-disc list-inside space-y-2 text-slate-600">
                                    <li><span class="font-medium text-slate-800">核心结论:</span> 仅 "Ga取代Ge位点" 模型能拟合 (R因子 0.015)</li>
                                    <li><span class="font-medium text-slate-800">拟合软件:</span> ARTEMIS (IFFEFIT包)</li>
                                    <li><span class="font-medium text-slate-800">拟合窗口 (R):</span> 1.8 – 5.1 Å</li>
                                    <li><span class="font-medium text-slate-800">权重设置 (k):</span> $k=1, 2, 3$ 多重权重拟合</li>
                                </ul>

                                <h4 class="font-semibold text-lg text-slate-700 mt-6 mb-3">建模与拟合详细步骤</h4>
                                <div class="space-y-3">
                                    <details class="bg-gray-50 p-3 rounded-lg">
                                        <summary class="font-medium text-slate-700 cursor-pointer">1. 路径计算 (FEFF)</summary>
                                        <ul class="list-disc list-inside space-y-1 mt-2 pl-4 text-slate-600">
                                            <li>范围: Ga中心, 半径 5 Å</li>
                                            <li>参数: `distance fuzz` = 0.030 Å</li>
                                            <li>筛选: 6个唯一散射对, 剔除低排名路径</li>
                                        </ul>
                                    </details>
                                    <details class="bg-gray-50 p-3 rounded-lg">
                                        <summary class="font-medium text-slate-700 cursor-pointer">2. 变量设置</summary>
                                        <ul class="list-disc list-inside space-y-1 mt-2 pl-4 text-slate-600">
                                            <li>使用通用缩放因子 (补偿体积差异)</li>
                                            <li>相位校正 (基于 Ga-Ge 2.45 Å 路径)</li>
                                            <li>自由度: 18个变量 / 26个独立点</li>
                                        </ul>
                                    </details>
                                    <details class="bg-gray-50 p-3 rounded-lg">
                                        <summary class="font-medium text-slate-700 cursor-pointer">3. 质量评估</summary>
                                        <p class="mt-2 pl-4 text-slate-600">R-factor 目标值: **0.015** (极高吻合度)</p>
                                    </details>
                                </div>
                            </div>
                            
                            <!-- Right Column: Mock Chart -->
                            <div>
                                <h4 class="font-semibold text-lg text-slate-700 mb-3">EXAFS 拟合 (模拟图)</h4>
                                <p class="text-sm text-slate-500 mb-3">此图模拟了文献中实验数据（圆圈）与DFT模型拟合（红线）的重合情况。</p>
                                <div class="chart-container">
                                    <canvas id="exafsChart"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Step 2: Theory -->
                    <div id="step-2" class="step-content bg-white p-6 rounded-lg shadow-lg hidden">
                        <h3 class="text-xl font-semibold text-blue-800 mb-4">阶段二：超导性质理论计算</h3>
                        <p class="text-slate-600 mb-6">目标：基于验证过的结构，计算电声耦合强度，为预测 $T_c$ 准备参数。</p>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                            <!-- Left: Eliashberg -->
                            <div>
                                <h4 class="font-semibold text-lg text-slate-700 mb-3">Eliashberg 谱函数 ($\alpha^2F(\omega)$)</h4>
                                <p class="text-slate-600 mb-4">此函数描述了声子作为“胶水”的强度。峰值位置代表对超导贡献最大的晶格振动频率。</p>
                                <div class="chart-container">
                                    <canvas id="alphaChart"></canvas>
                                </div>
                                <p class="text-sm text-slate-500 mt-2 text-center">模拟的 $\alpha^2F(\omega)$ 谱</p>
                            </div>
                            <!-- Right: McMillan -->
                            <div>
                                <h4 class="font-semibold text-lg text-slate-700 mb-3">McMillan 公式 (预测 $T_c$)</h4>
                                <p class="text-slate-600 mb-4">此公式将微观参数（$\lambda$, $\omega_{\log}$, $\mu^*$）与宏观的超导转变温度 $T_c$ 联系起来。</p>
                                <div class="bg-gray-50 p-4 rounded-lg">
                                    <p class="text-sm font-mono text-center text-slate-700">
                                        $k_B T_c = \frac{\hbar \omega_{\log}}{1.2} \exp \left[ \frac{-1.04(1+\lambda)}{\lambda - \mu^*(1+0.62\lambda)} \right]$
                                    </p>
                                </div>
                                <h5 class="font-semibold text-md text-slate-700 mt-6 mb-2">关键参数解析</h5>
                                <ul class="list-disc list-inside space-y-2 text-slate-600">
                                    <li><span class="font-medium text-slate-800">$\lambda$ (耦合常数):</span> $\alpha^2F(\omega)$ 的积分。越大越好。</li>
                                    <li><span class="font-medium text-slate-800">$\omega_{\log}$ (对数平均频率):</span> 声子的平均能量。</li>
                                    <li><span class="font-medium text-slate-800">$\mu^*$ (库仑赝势):</span> 电子排斥力。通常设为 **0.1**。</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <!-- Step 3: Prediction -->
                    <div id="step-3" class="step-content bg-white p-6 rounded-lg shadow-lg hidden">
                        <h3 class="text-xl font-semibold text-purple-800 mb-4">阶段三：结果预测 (交互式计算)</h3>
                        <p class="text-slate-600 mb-6">使用 McMillan 公式，根据文献中常见的参数范围，交互式计算 $T_c$。</p>
                        
                        <div class="max-w-md mx-auto bg-purple-50 p-6 rounded-lg shadow-inner">
                            <h4 class="font-semibold text-lg text-purple-900 mb-4 text-center"> $T_c$ 交互式计算器</h4>
                            <div class="space-y-4">
                                <div>
                                    <label for="lambda" class="block text-sm font-medium text-slate-700">耦合常数 ($\lambda$)</label>
                                    <input type="number" id="lambda" value="0.62" step="0.01" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500">
                                </div>
                                <div>
                                    <label for="omega_log" class="block text-sm font-medium text-slate-700">对数平均频率 $\omega_{\log}$ (K)</label>
                                    <input type="number" id="omega_log" value="250" step="10" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500">
                                </div>
                                <div>
                                    <label for="mu_star" class="block text-sm font-medium text-slate-700">库仑赝势 ($\mu^*$)</label>
                                    <input type="number" id="mu_star" value="0.10" step="0.01" class="mt-1 block w-full px-3 py-2 bg-white border border-slate-300 rounded-md shadow-sm focus:outline-none focus:ring-purple-500 focus:border-purple-500">
                                </div>
                                <button id="calculateTc" class="w-full bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700 transition duration-300">
                                    计算 $T_c$
                                </button>
                            </div>
                            <div id="resultBox" class="mt-6 text-center">
                                <p class="text-lg text-purple-900">预测的 $T_c$ (K): <span id="tcResult" class="font-bold text-2xl">---</span></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- Section 4: Checklist -->
        <section id="checklist" class="mb-12">
            <h2 class="text-2xl font-semibold text-teal-700 mb-4">4. 执行路线图 (Checklist)</h2>
            <div class="bg-white p-6 rounded-lg shadow-lg">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <div>
                        <h3 class="text-lg font-semibold text-slate-700 mb-3">准备工作</h3>
                        <ul class="space-y-2">
                            <li class="flex items-center"><span class="text-teal-500 mr-2">✓</span> 安装 VASP 或 Quantum ESPRESSO (QE)</li>
                            <li class="flex items-center"><span class="text-teal-500 mr-2">✓</span> 安装 Demeter (Athena + Artemis)</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-slate-700 mb-3">Step 1: 结构验证 (EXAFS)</h3>
                        <ul class="space-y-2 text-slate-600">
                            <li>1. [ ] DFT优化：构建模型, 弛豫, 导出 `.cif`</li>
                            <li>2. [ ] FEFF计算：导入Artemis, 计算5 Å内路径</li>
                            <li>3. [ ] 拟合设置：选6个散射对, k=1,2,3, R=1.8-5.1 Å</li>
                            <li>4. [ ] 执行拟合：R-factor < 0.02</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-slate-700 mb-3">Step 2: 微观计算 (QE - PHonon)</h3>
                        <ul class="space-y-2 text-slate-600">
                            <li>1. [ ] SCF计算 (Dense k-mesh)</li>
                            <li>2. [ ] DFPT计算 (ph.x)</li>
                            <li>3. [ ] 谱函数生成 (q2r.x & matdyn.x)</li>
                        </ul>
                    </div>
                    <div>
                        <h3 class="text-lg font-semibold text-slate-700 mb-3">Step 3: 结果预测 ($T_c$)</h3>
                        <ul class="space-y-2 text-slate-600">
                            <li>1. [ ] 积分求参：运行 `lambda.x` $\to$ $\lambda, \omega_{\log}$</li>
                            <li>2. [ ] 计算温度：代入 McMillan 公式 ( $\mu^*=0.1$ )</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 5: FAQ -->
        <section id="faq" class="mb-12">
            <h2 class="text-2xl font-semibold text-teal-700 mb-4">5. 常见问题 (FAQ)</h2>
            <div class="space-y-4">
                <details class="bg-white p-4 rounded-lg shadow-lg group">
                    <summary class="font-medium text-slate-800 cursor-pointer list-none flex justify-between items-center">
                        Q: 为什么要忽略低排名路径？
                        <span class="text-teal-500 transform transition-transform duration-200 group-open:rotate-180">+</span>
                    </summary>
                    <p class="text-slate-600 mt-2">A: 为了避免“过拟合”。变量太多会导致数学上拟合得很好，但物理上没有意义。</p>
                </details>
                <details class="bg-white p-4 rounded-lg shadow-lg group">
                    <summary class="font-medium text-slate-800 cursor-pointer list-none flex justify-between items-center">
                        Q: 为什么要做相位校正？
                        <span class="text-teal-500 transform transition-transform duration-200 group-open:rotate-180">+</span>
                    </summary>
                    <p class="text-slate-600 mt-2">A: 傅里叶变换后的峰位通常比真实键长短 0.3-0.5 Å，校正后才能与晶体真实结构（DFT结果）对比。</p>
                </details>
                <details class="bg-white p-4 rounded-lg shadow-lg group">
                    <summary class="font-medium text-slate-800 cursor-pointer list-none flex justify-between items-center">
                        Q: 软件可以全自动吗？
                        <span class="text-teal-500 transform transition-transform duration-200 group-open:rotate-180">+</span>
                    </summary>
                    <p class="text-slate-600 mt-2">A: 公式计算部分（阶段二、三）几乎是全自动的；但EXAFS拟合（阶段一）需要人工调整参数和策略，依赖专业经验。</p>
                </details>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="bg-white mt-12 border-t border-slate-200">
        <div class="container mx-auto px-4 py-6 text-center text-slate-500">
            <p>&copy; 2025 交互式SOP. 本应用基于您提供的指南生成。</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- Stepper Navigation ---
            const stepButtons = document.querySelectorAll('.step-nav');
            const stepContents = document.querySelectorAll('.step-content');

            stepButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetStep = button.getAttribute('data-step');

                    // Update button styles
                    stepButtons.forEach(btn => {
                        btn.classList.remove('step-active');
                        btn.classList.add('step-default');
                    });
                    button.classList.add('step-active');
                    button.classList.remove('step-default');

                    // Show content
                    stepContents.forEach(content => {
                        if (content.id === `step-${targetStep}`) {
                            content.classList.remove('hidden');
                        } else {
                            content.classList.add('hidden');
                        }
                    });
                });
            });

            // --- Mock EXAFS Chart ---
            const exafsCtx = document.getElementById('exafsChart').getContext('2d');
            
            // Generate mock data mimicking Fig 2c
            const labelsR = [];
            const dataFit = [];
            const dataExpt = [];
            for (let r = 1.8; r <= 5.1; r += 0.1) {
                labelsR.push(r.toFixed(1));
                const fitVal = Math.sin(r * Math.PI) * Math.exp(-r * 0.3) * (0.5 / (r * 0.5));
                dataFit.push(fitVal);
                dataExpt.push(fitVal + (Math.random() - 0.5) * 0.1); // Add noise
            }

            new Chart(exafsCtx, {
                type: 'line',
                data: {
                    labels: labelsR,
                    datasets: [
                        {
                            label: '拟合 (Fit)',
                            data: dataFit,
                            borderColor: '#dc2626', // red-600
                            backgroundColor: 'transparent',
                            borderWidth: 2,
                            tension: 0.1,
                            pointRadius: 0,
                        },
                        {
                            label: '实验 (Expt.)',
                            data: dataExpt,
                            borderColor: 'transparent',
                            backgroundColor: '#94a3b8', // slate-400
                            pointRadius: 3,
                            type: 'scatter',
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'EXAFS R空间拟合 (模拟图)',
                            color: '#334155'
                        },
                        tooltip: {
                            mode: 'index',
                            intersect: false,
                        },
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: 'Radial distance (Å)'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: '|X(R)| (Å⁻³)'
                            }
                        }
                    }
                }
            });

            // --- Mock Alpha^2F(w) Chart ---
            const alphaCtx = document.getElementById('alphaChart').getContext('2d');
            new Chart(alphaCtx, {
                type: 'bar',
                data: {
                    labels: ['10', '20', '30', '40', '50', '60', '70', '80'],
                    datasets: [{
                        label: 'α²F(ω)',
                        data: [0.1, 0.3, 0.8, 0.5, 0.2, 0.1, 0.05, 0.02],
                        backgroundColor: '#3b82f6', // blue-500
                        borderColor: '#2563eb', // blue-600
                        borderWidth: 1
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        title: {
                            display: true,
                            text: 'Eliashberg 谱函数 (模拟图)',
                            color: '#334155'
                        },
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        x: {
                            title: {
                                display: true,
                                text: '频率 ω (meV)'
                            }
                        },
                        y: {
                            title: {
                                display: true,
                                text: 'α²F(ω)'
                            },
                            beginAtZero: true
                        }
                    }
                }
            });

            // --- Tc Calculator ---
            const calculateBtn = document.getElementById('calculateTc');
            const resultEl = document.getElementById('tcResult');

            const calculateTc = () => {
                const lambda = parseFloat(document.getElementById('lambda').value);
                const omega_log = parseFloat(document.getElementById('omega_log').value);
                const mu_star = parseFloat(document.getElementById('mu_star').value);

                if (isNaN(lambda) || isNaN(omega_log) || isNaN(mu_star)) {
                    resultEl.textContent = '输入无效';
                    return;
                }

                const numerator = -1.04 * (1 + lambda);
                const denominator = lambda - mu_star * (1 + 0.62 * lambda);

                if (denominator <= 0) {
                    resultEl.textContent = '无解 (λ太低)';
                    return;
                }

                const tc = (omega_log / 1.2) * Math.exp(numerator / denominator);
                resultEl.textContent = tc.toFixed(2) + ' K';
            };

            calculateBtn.addEventListener('click', calculateTc);
            
            // Initial calculation on load
            calculateTc();
        });
    </script>
</body>
</html>